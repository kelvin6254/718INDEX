<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PWA 相關設定 -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="跳繩平台">
    <meta name="description" content="基督教中國佈道會聖道學校跳繩平台 - 學生跳繩成績管理系統">
    <meta name="keywords" content="跳繩,學校,成績管理,學生">
    
    <!-- PWA 圖標 -->
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzI1NjNlYiIvPgo8cGF0aCBkPSJNMTYgNkMxMi42OSA2IDEwIDguNjkgMTAgMTJjMCAyLjA5IDEuMDYgMy45NCAyLjY3IDUuMDdMMTYgMjZsMy4zMy04LjkzQzIwLjk0IDE1Ljk0IDIyIDE0LjA5IDIyIDEyYzAtMy4zMS0yLjY5LTYtNi02eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+">
    <link rel="icon" type="image/png" sizes="16x16" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iMyIgZmlsbD0iIzI1NjNlYiIvPgo8cGF0aCBkPSJNOCA0QzYuMzQgNCA1IDUuMzQgNSA3YzAgMS4wNSAwLjUzIDEuOTcgMS4zMyAyLjUzTDggMTNsMS42Ny00LjQ3QzEwLjQ3IDguOTcgMTEgOC4wNSAxMSA3YzAtMS42Ni0xLjM0LTMtMy0zeiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iMzYiIGZpbGw9IiMyNTYzZWIiLz4KPHBhdGggZD0iTTkwIDQ1Qzc0LjUgNDUgNjIgNTcuNSA2MiA3M2MwIDEwLjUgNS4zIDIwIDExLjUgMjUuNUw5MCAxMzVsMTYuNS0zNi41QzExMi41IDkzIDExOCA4My41IDExOCA3M2MwLTE1LjUtMTIuNS0yOC0yOC0yOHoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <title>學校跳繩平台</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
        }
        
        /* 頂部導航欄 */
        .top-nav {
            background-color: #1e3a8a;
            color: white;
            padding: 8px 0;
            font-size: 14px;
        }
        
        .top-nav a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .top-nav a:hover {
            color: #f97316;
        }
        
        /* 主要導航欄 */
        .navbar {
            background-color: #2563eb !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 15px 0;
        }
        
        .navbar-brand {
            color: white !important;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .navbar-nav .nav-link {
            color: white !important;
            font-weight: 500;
            margin: 0 10px;
            padding: 8px 15px !important;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover {
            background-color: #f97316;
            color: white !important;
        }
        
        /* 主要內容區域 */
        .main-content {
            background-color: white;
            margin: 0;
            padding: 0;
        }
        
        /* 英雄區域 */
        .hero-section {
            background: linear-gradient(135deg, #2563eb 0%, #1e3a8a 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
            position: relative;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        }
        
        .hero-section .container {
            position: relative;
            z-index: 1;
        }
        
        .hero-section h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero-section p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        /* 校訓區域 */
        .motto-section {
            background-color: #fef3c7;
            padding: 30px 0;
            text-align: center;
            border-bottom: 3px solid #f97316;
        }
        
        .motto-section h2 {
            color: #1e3a8a;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .motto-section p {
            color: #92400e;
            font-size: 1.1rem;
            margin: 0;
        }
        
        /* 功能卡片 */
        .feature-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border-color: #f97316;
        }
        
        .feature-icon {
            font-size: 3rem;
            color: #2563eb;
            margin-bottom: 20px;
        }
        
        /* 內容區域 */
        .content-section {
            padding: 40px 0;
            background-color: white;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f97316;
        }
        
        .section-header h2 {
            color: #1e3a8a;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .section-header p {
            color: #64748b;
            font-size: 1.1rem;
        }
        
        /* 表格容器 */
        .table-container {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .table-container h3 {
            color: #1e3a8a;
            border-bottom: 2px solid #f97316;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* 表單容器 */
        .form-container {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .form-container h3 {
            color: #1e3a8a;
            border-bottom: 2px solid #f97316;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* 按鈕樣式 */
        .btn-custom {
            background-color: #2563eb;
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-custom:hover {
            background-color: #1d4ed8;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }
        
        .btn-secondary {
            background-color: #f97316;
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background-color: #ea580c;
            color: white;
        }
        
        /* 徽章樣式 */
        .score-badge {
            background-color: #2563eb;
        }
        
        /* 操作按鈕樣式 */
        .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            border-radius: 0.25rem;
        }
        
        .btn-info {
            background-color: #0dcaf0;
            border-color: #0dcaf0;
            color: white;
        }
        
        .btn-info:hover {
            background-color: #31d2f2;
            border-color: #25cff2;
            color: white;
        }
        
        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #bb2d3b;
            border-color: #b02a37;
            color: white;
        }
        
        .score-badge {
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .rank-badge {
            background-color: #f97316;
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .rank-1 { background-color: #fbbf24; }
        .rank-2 { background-color: #94a3b8; }
        .rank-3 { background-color: #f59e0b; }
        
        /* 警告訊息 */
        .alert-custom {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            min-width: 300px;
            border-radius: 5px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        /* 模態框樣式 */
        .modal-content {
            border-radius: 8px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background-color: #2563eb;
            color: white;
            border-radius: 8px 8px 0 0;
        }
        
        .modal-title {
            color: white;
        }
        
        /* 響應式設計 */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem;
            }
            
            .navbar-nav .nav-link {
                margin: 5px 0;
            }
            
            .feature-card {
                margin: 10px 0;
            }
        }
        
        /* 表格樣式 */
        .table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .table th {
            background-color: #2563eb;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        /* 表單樣式 */
        .form-control {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            transition: border-color 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #f97316;
            box-shadow: 0 0 0 0.2rem rgba(249, 115, 22, 0.25);
        }
        
        .form-label {
            font-weight: 500;
            color: #1e3a8a;
            margin-bottom: 8px;
        }
        .zone-card {
            min-height: 260px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.04);
            border-radius: 10px;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .zone-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #2563eb;
        }
        @media (max-width: 767px) {
            .zone-card { margin-bottom: 24px; }
        }
        .btn-role-teacher {
          background: #22a06b !important;
          color: #fff !important;
          border: none;
        }
        .btn-role-teacher:hover {
          background: #178a57 !important;
          color: #fff !important;
        }
        .btn-role-parent {
          background: #38bdf8 !important;
          color: #fff !important;
          border: none;
        }
        .btn-role-parent:hover {
          background: #0ea5e9 !important;
          color: #fff !important;
        }
/* ====== 全站美化 ====== */
body {
  background: #f4f8fb;
  font-family: 'Microsoft JhengHei', Arial, sans-serif;
}
.bg-deco {
  position: fixed; left: 0; top: 0; width: 100vw; height: 100vh;
  pointer-events: none; z-index: 0;
}
.hero-section {
  background: linear-gradient(135deg,#2563eb 0%,#1e3a8a 100%);
  color: #fff;
  padding: 64px 0 0 0;
  text-align: center;
  position: relative;
  box-shadow: 0 4px 16px rgba(30,58,138,0.08);
}
.hero-section .container { position: relative; z-index: 1; }
.hero-section .main-title {
  font-size: 2.7rem;
  font-weight: bold;
  letter-spacing: 2px;
  text-shadow: 2px 2px 10px rgba(30,58,138,0.18);
}
.hero-section .sub-title {
  font-size: 1.18rem;
  color: #fbbf24;
  margin-top: 10px;
  letter-spacing: 2px;
}
.zone-card {
  min-height: 260px;
  box-shadow: 0 4px 18px rgba(37,99,235,0.10);
  border-radius: 18px;
  border: none;
  transition: all 0.25s;
  background: #fff;
  position: relative;
}
.zone-card:hover {
  transform: translateY(-8px) scale(1.03);
  box-shadow: 0 10px 32px rgba(37,99,235,0.18);
  border-color: #f97316;
}
.zone-icon {
  width: 70px; height: 70px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 18px;
  font-size: 2.5rem;
}
.zone-card:nth-child(1) .zone-icon { background: #e3edfa; color: #2563eb; }
.zone-card:nth-child(2) .zone-icon { background: #e3f7ea; color: #22a06b; }
.zone-card:nth-child(3) .zone-icon { background: #fff7e6; color: #f97316; }
.zone-card .fw-bold { font-size: 1.22rem; letter-spacing: 2px; color: #374151; }
.zone-desc { font-size: 1.05rem; line-height: 1.7; }
.section-header {
  text-align: center;
  margin-bottom: 40px;
  padding-bottom: 16px;
  border-bottom: none;
  position: relative;
}
.section-header h2 {
  color: #1e3a8a;
  font-weight: bold;
  margin-bottom: 10px;
  font-size: 1.5rem;
  display: inline-block;
  position: relative;
}
.section-header h2:after {
  content: '';
  display: block;
  width: 60px;
  height: 4px;
  background: linear-gradient(90deg,#fbbf24 0%,#2563eb 100%);
  border-radius: 2px;
  margin: 10px auto 0 auto;
}
.table-container {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 2px 12px rgba(30,58,138,0.08);
  padding: 25px;
  margin: 20px 0;
}
.table {
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 1px 8px rgba(30,58,138,0.06);
}
.table th {
  background-color: #2563eb;
  color: white;
  font-size: 1.08rem;
}
.table td {
  font-size: 1.05rem;
}
.form-container {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 2px 10px rgba(30,58,138,0.07);
  padding: 25px;
  margin: 20px 0;
}
.form-label { color: #1e3a8a; font-weight: 500; }
.btn-custom {
  background: linear-gradient(90deg,#2563eb 0%,#1e3a8a 100%);
  color: #fff;
  font-weight: 600;
  border-radius: 30px;
  padding: 10px 32px;
  letter-spacing: 1px;
  border: none;
  transition: background 0.2s;
}
.btn-custom:hover {
  background: linear-gradient(90deg,#1e3a8a 0%,#2563eb 100%);
}
.attitude-section {
  background: linear-gradient(120deg,#fbbf24 0%,#6ad0d6 100%);
  padding: 40px 0 16px 0;
  border-radius: 22px;
  margin-bottom: 40px;
  box-shadow: 0 2px 16px rgba(251,191,36,0.08);
}
.attitude-grid { display: flex; flex-direction: column; align-items: center; gap: 32px; }
.attitude-row { display: flex; gap: 32px; }
.attitude-card { position: relative; overflow: hidden; width: 200px; height: 200px; border-radius: 16px; box-shadow:0 2px 12px rgba(0,0,0,0.08); background:#fff; }
.attitude-img { width: 100%; height: 100%; object-fit: cover; border-radius: 16px; filter: brightness(0.92); }
/* 返回頂部按鈕 */
#backToTopBtn {
  position: fixed;
  right: 32px;
  bottom: 32px;
  z-index: 999;
  background: linear-gradient(90deg,#2563eb 0%,#fbbf24 100%);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 54px; height: 54px;
  font-size: 1.6rem;
  box-shadow: 0 2px 10px rgba(30,58,138,0.13);
  display: none;
  align-items: center; justify-content: center;
  transition: background 0.2s;
}
#backToTopBtn:hover { background: linear-gradient(90deg,#fbbf24 0%,#2563eb 100%); color: #fff; }
@media (max-width: 900px) {
  .attitude-card, .attitude-img { width: 120px; height: 120px; }
  .attitude-row { gap: 12px !important; }
  .attitude-grid { gap: 12px !important; }
  .zone-card { min-height: 180px; }
}
</style>
<script>
// 返回頂部按鈕
window.addEventListener('scroll', function() {
  const btn = document.getElementById('backToTopBtn');
  if (window.scrollY > 300) btn.style.display = 'flex';
  else btn.style.display = 'none';
});
function backToTop() {
  window.scrollTo({top:0,behavior:'smooth'});
}
</script>
<button id="backToTopBtn" onclick="backToTop()" title="返回頂部"><i class="fas fa-arrow-up"></i></button>
</head>
<body>
    <!-- 頂部導航欄 -->
    <div class="top-nav">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <a href="#"><i class="fas fa-phone me-1"></i>電話：(852) 2750 2549</a>
                    <a href="#"><i class="fas fa-envelope me-1"></i>電郵：info@holyword.edu.hk</a>
                </div>
                <div class="col-md-6 text-end">
                    <a href="#"><i class="fas fa-map-marker-alt me-1"></i>地址：九龍油塘鯉魚門道60號</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 主要導航欄 -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-school me-2"></i>基督教中國佈道會聖道學校
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">
                            <i class="fas fa-home me-1"></i>首頁
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#scores">
                            <i class="fas fa-chart-bar me-1"></i>成績
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#rankings">
                            <i class="fas fa-trophy me-1"></i>排名
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="holyjumpvibe.html">
                            <i class="fas fa-book-open me-1"></i>《HolyJumpVibe》繩刊
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="rope-classroom.html">
                            <i class="fas fa-chalkboard me-1"></i>『繩』目教室
                        </a>
                    </li>

                    <!-- 移除上傳影片連結 -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-1"></i>登出
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <section id="home" class="hero-section" style="background:linear-gradient(135deg,#2563eb 0%,#1e3a8a 100%);padding:48px 0 0 0;">
            <div class="container">
                <div class="text-center mb-4">
                    <span style="font-size:2.5rem;color:#fff;vertical-align:middle;"><img src="https://i.imgur.com/7hxUzog.png" alt="校徽" style="height:48px;width:48px;vertical-align:middle;"></span>
                    <span style="font-size:2.2rem;font-weight:700;color:#f3f4f6;letter-spacing:2px;vertical-align:middle;margin-left:10px;">基督教中國佈道會聖道學校</span>
                </div>
                <div class="text-center mb-2">
                    <span style="font-size:1.5rem;color:#f3f4f6;font-weight:500;">HolyStride跳繩運動平台</span>
                </div>
                <div class="text-center mb-3">
                    <span style="color:#e0e7ef;font-size:1.05rem;">培養學生健康體魄．建立團隊精神．追求卓越表現</span>
                </div>
                <div class="d-flex justify-content-center mb-5">
                    <div style="background:#f97316;padding:10px 32px;border-radius:20px;display:inline-block;">
                        <span style="color:#fff;font-size:1.08rem;font-weight:500;letter-spacing:1px;">
                            以愛作為根基．以聖經真理．以成就卓越
                        </span>
                    </div>
                </div>
                <style>
                .attitude-card { position: relative; overflow: hidden; width: 200px; height: 200px; border-radius: 12px; box-shadow:0 2px 12px rgba(0,0,0,0.08); background:#222; }
                .attitude-img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; filter: brightness(0.85); }
                @media (max-width: 900px) {
                  .attitude-card { width: 140px; height: 140px; }
                  .attitude-row { gap: 12px !important; }
                  .attitude-grid { gap: 12px !important; }
                }
                </style>
                <div class="row justify-content-center align-items-center mt-3">
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='students-list.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#e3edfa;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-user" style="font-size:2.5rem;color:#2563eb;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">學生專區</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                查看個人跳繩成績和學校排名<br>追蹤進步情況
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='rainbow-certificate-detail.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#e0f2fe;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-chalkboard-teacher" style="font-size:2.5rem;color:#0ea5e9;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">彩虹章別計劃自學專區</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                上傳彩虹章別計劃影片，獲得教師回饋<br>促進自主學習與互動
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='holyjumpvibe.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#fef3c7;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-book-open" style="font-size:2.5rem;color:#f59e0b;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">《HolyJumpVibe》繩刊</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                跳繩隊官方刊物，分享技巧與故事<br>激發跳繩熱情與團隊精神
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section id="scores" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar me-2"></i>成績紀錄</h2>
                    <p class="text-muted">查看和輸入學生的跳繩成績</p>
                </div>
            
            <div class="table-container">
                <h3 class="mb-4">當前成績</h3>
                <table id="scoresTable" class="table table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>學生姓名</th>
                            <th>總分</th>
                            <th>日期</th>
                            <th id="actionHeader" style="display: none;">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

            <div class="form-container">
                <h3 class="mb-4"><i class="fas fa-plus me-2"></i>輸入新成績</h3>
                <form id="scoreForm">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="studentName" class="form-label">學生姓名</label>
                                <select class="form-control" id="studentName" required>
                                    <option value="">請選擇學生</option>
                                    <option value="朱耀鋒">朱耀鋒</option>
                                    <option value="林思恒">林思恒</option>
                                    <option value="蘇南燊">蘇南燊</option>
                                    <option value="葉芷汝">葉芷汝</option>
                                    <option value="吳諾暉">吳諾暉</option>
                                    <option value="梁珀源">梁珀源</option>
                                    <option value="黎溢鉦">黎溢鉦</option>
                                    <option value="黃泳鈺">黃泳鈺</option>
                                    <option value="楊洛謙">楊洛謙</option>
                                    <option value="麥浩敏">麥浩敏</option>
                                    <option value="謝韶謙">謝韶謙</option>
                                    <option value="馮樂宏">馮樂宏</option>
                                    <option value="曾業淳">曾業淳</option>
                                    <option value="馮鎮泓">馮鎮泓</option>
                                    <option value="倪灝">倪灝</option>
                                    <option value="林澤星">林澤星</option>
                                    <option value="蔡瀚毅">蔡瀚毅</option>
                                    <option value="楊凱琳">楊凱琳</option>
                                    <option value="龍正罡">龍正罡</option>
                                    <option value="許明然">許明然</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreFront" class="form-label">30秒前跳</label>
                                <input type="number" class="form-control" id="scoreFront" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreJack" class="form-label">30秒開合跳</label>
                                <input type="number" class="form-control" id="scoreJack" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreSki" class="form-label">30秒滑雪跳</label>
                                <input type="number" class="form-control" id="scoreSki" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreBike" class="form-label">30秒單車步</label>
                                <input type="number" class="form-control" id="scoreBike" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreDate" class="form-label">日期</label>
                                <input type="date" class="form-control" id="scoreDate" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-custom">
                        <i class="fas fa-save me-2"></i>提交成績
                    </button>
                </form>
            </div>
        </section>

        <section id="rankings" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-trophy me-2"></i>學校排名</h2>
                    <p class="text-muted">查看學生在學校中的跳繩排名</p>
                </div>
            
            <div class="table-container">
                <table id="rankingsTable" class="table table-hover">
                    <thead class="table-primary">
                        <tr>
                            <th>排名</th>
                            <th>學生姓名</th>
                            <th>總分</th>
                            <th>日期</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 最新文章預覽區塊 -->
        <section class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-newspaper me-2"></i>《HolyJumpVibe》繩刊 - 最新文章</h2>
                    <p class="text-muted">跳繩隊官方刊物，分享技巧與故事，激發跳繩熱情與團隊精神</p>
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title text-primary">
                                    <i class="fas fa-seedling me-2"></i>隊員蛻變
                                </h5>
                                <p class="card-text">見證跳繩隊成員的成長歷程，透過進步影片記錄學生從初學者到高手的蛻變過程...</p>
                                <small class="text-muted">
                                    <i class="fas fa-calendar me-1"></i>2024年12月
                                </small>
                                <button class="btn btn-primary btn-sm mt-2" onclick="openTransformationModal()">
                                    <i class="fas fa-play me-1"></i>觀看進步影片
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title text-success">
                                    <i class="fas fa-dumbbell me-2"></i>技巧教學
                                </h5>
                                <p class="card-text">專業跳繩技巧分解教學，從基礎到進階，幫助學生提升跳繩技能...</p>
                                <small class="text-muted">
                                    <i class="fas fa-calendar me-1"></i>2024年12月
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title text-warning">
                                    <i class="fas fa-trophy me-2"></i>比賽報導
                                </h5>
                                <p class="card-text">最新比賽活動報導，記錄跳繩隊在各項賽事中的精彩表現與榮譽時刻...</p>
                                <small class="text-muted">
                                    <i class="fas fa-calendar me-1"></i>2024年12月
                                </small>
                                <a href="competition-news.html" class="btn btn-warning btn-sm mt-2">
                                    <i class="fas fa-newspaper me-1"></i>查看比賽報導
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title text-info">
                                    <i class="fas fa-heart me-2"></i>健康專欄
                                </h5>
                                <p class="card-text">跳繩運動的健康益處與營養建議，幫助學生建立正確的運動觀念...</p>
                                <small class="text-muted">
                                    <i class="fas fa-calendar me-1"></i>2024年12月
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <a href="holyjumpvibe.html" class="btn btn-outline-primary">
                        <i class="fas fa-book-open me-2"></i>閱讀完整繩刊
                    </a>
                </div>
            </div>
        </section>
        
        <div class="attitude-section mb-5" style="background:#6ad0d6;padding:32px 0 8px 0;border-radius:18px;">
          <h2 class="text-center" style="color:#fff;font-weight:700;letter-spacing:4px;font-size:2rem;margin-bottom:28px;">跳繩中帶出六種學習態度</h2>
          <div class="attitude-grid" style="display:flex;flex-direction:column;align-items:center;gap:24px;">
            <div class="attitude-row" style="display:flex;gap:24px;">
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/f7GY28u.png" class="attitude-img" alt="堅持">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/uebhHcm.png" class="attitude-img" alt="專注">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/AJCwrek.png" class="attitude-img" alt="尊重">
              </div>
            </div>
            <div class="attitude-row" style="display:flex;gap:24px;">
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/IYYiSGb.png" class="attitude-img" alt="自信">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/id6FW6C.png" class="attitude-img" alt="自我紀律">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/Fns6P0m.png" class="attitude-img" alt="領導才能">
              </div>
            </div>
          </div>
        </div>
        
        <!-- 頁腳 -->
        <footer class="bg-dark text-light py-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h5>基督教中國佈道會聖道學校</h5>
                        <p class="mb-0">跳繩成績與教學平台</p>
                        <p class="mb-0">促進學生健康發展，提升跳繩技能</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- 隊員蛻變模態框 -->
    <div class="modal fade" id="transformationModal" tabindex="-1" aria-labelledby="transformationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="transformationModalLabel">
                        <i class="fas fa-butterfly me-2"></i>隊員蛻變 - 進步影片集
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12 mb-3">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h6 class="text-primary mb-0"><i class="fas fa-users me-2"></i>選擇學生查看進步歷程</h6>
                                <small class="text-muted">共20位學生</small>
                            </div>
                            <div class="student-tabs-container" style="max-height: 200px; overflow-y: auto;">
                                <ul class="nav nav-tabs flex-wrap" id="studentTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="student1-tab" data-bs-toggle="tab" data-bs-target="#student1" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>朱耀鋒
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student2-tab" data-bs-toggle="tab" data-bs-target="#student2" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>林思恒
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student3-tab" data-bs-toggle="tab" data-bs-target="#student3" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>蘇南燊
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student4-tab" data-bs-toggle="tab" data-bs-target="#student4" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>葉芷汝
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student5-tab" data-bs-toggle="tab" data-bs-target="#student5" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>吳諾暉
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student6-tab" data-bs-toggle="tab" data-bs-target="#student6" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>梁珀源
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student7-tab" data-bs-toggle="tab" data-bs-target="#student7" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>黎溢鉦
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student8-tab" data-bs-toggle="tab" data-bs-target="#student8" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>黃泳鈺
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student9-tab" data-bs-toggle="tab" data-bs-target="#student9" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>楊洛謙
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student10-tab" data-bs-toggle="tab" data-bs-target="#student10" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>麥浩敏
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student11-tab" data-bs-toggle="tab" data-bs-target="#student11" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>謝韶謙
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student12-tab" data-bs-toggle="tab" data-bs-target="#student12" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>馮樂宏
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student13-tab" data-bs-toggle="tab" data-bs-target="#student13" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>曾業淳
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student14-tab" data-bs-toggle="tab" data-bs-target="#student14" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>馮鎮泓
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student15-tab" data-bs-toggle="tab" data-bs-target="#student15" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>倪灝
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student16-tab" data-bs-toggle="tab" data-bs-target="#student16" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>林澤星
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student17-tab" data-bs-toggle="tab" data-bs-target="#student17" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>蔡瀚毅
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student18-tab" data-bs-toggle="tab" data-bs-target="#student18" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>楊凱琳
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student19-tab" data-bs-toggle="tab" data-bs-target="#student19" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>龍正罡
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="student20-tab" data-bs-toggle="tab" data-bs-target="#student20" type="button" role="tab">
                                            <i class="fas fa-user me-1"></i>許明然
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="studentTabContent">
                        <!-- 學生1：朱耀鋒 -->
                        <div class="tab-pane fade show active" id="student1" role="tabpanel">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-primary"><i class="fas fa-calendar me-1"></i>初期表現 (2024年1月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="初期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">基礎跳繩技巧，30秒前跳成績：35次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-warning"><i class="fas fa-calendar me-1"></i>中期表現 (2024年6月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="中期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階跳繩技巧，30秒前跳成績：52次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-success"><i class="fas fa-calendar me-1"></i>進步表現 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="進步表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階花式跳繩，30秒前跳成績：68次</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-info"><i class="fas fa-calendar me-1"></i>比賽表現 (2024年11月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="比賽表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">校際比賽，團體花式跳繩表演</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-danger"><i class="fas fa-calendar me-1"></i>技巧展示 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="技巧展示" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">高級花式跳繩技巧展示</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-secondary"><i class="fas fa-calendar me-1"></i>訓練日常 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="訓練日常" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">日常訓練片段，展現堅持精神</p>
                                </div>
                            </div>
                            <div class="progress-info mt-3">
                                <h6 class="text-info"><i class="fas fa-chart-line me-1"></i>進步統計</h6>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-primary">94%</div>
                                            <small class="text-muted">進步幅度</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-success">33次</div>
                                            <small class="text-muted">成績提升</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-warning">11個月</div>
                                            <small class="text-muted">訓練時間</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 學生2：林思恒 -->
                        <div class="tab-pane fade" id="student2" role="tabpanel">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-primary"><i class="fas fa-calendar me-1"></i>初期表現 (2024年2月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="初期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">基礎跳繩技巧，30秒前跳成績：28次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-warning"><i class="fas fa-calendar me-1"></i>中期表現 (2024年7月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="中期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階跳繩技巧，30秒前跳成績：58次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-success"><i class="fas fa-calendar me-1"></i>進步表現 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="進步表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階花式跳繩，30秒前跳成績：72次</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-info"><i class="fas fa-calendar me-1"></i>比賽表現 (2024年11月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="比賽表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">校際比賽，個人速度跳繩項目</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-danger"><i class="fas fa-calendar me-1"></i>技巧展示 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="技巧展示" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">高級花式跳繩技巧展示</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-secondary"><i class="fas fa-calendar me-1"></i>訓練日常 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="訓練日常" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">日常訓練片段，展現堅持精神</p>
                                </div>
                            </div>
                            <div class="progress-info mt-3">
                                <h6 class="text-info"><i class="fas fa-chart-line me-1"></i>進步統計</h6>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-primary">157%</div>
                                            <small class="text-muted">進步幅度</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-success">44次</div>
                                            <small class="text-muted">成績提升</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-warning">10個月</div>
                                            <small class="text-muted">訓練時間</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 學生3：蘇南燊 -->
                        <div class="tab-pane fade" id="student3" role="tabpanel">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-primary"><i class="fas fa-calendar me-1"></i>初期表現 (2024年3月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="初期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">基礎跳繩技巧，30秒前跳成績：42次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-warning"><i class="fas fa-calendar me-1"></i>中期表現 (2024年8月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="中期表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階跳繩技巧，30秒前跳成績：65次</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-success"><i class="fas fa-calendar me-1"></i>進步表現 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="進步表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">進階花式跳繩，30秒前跳成績：85次</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-info"><i class="fas fa-calendar me-1"></i>比賽表現 (2024年11月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="比賽表現" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">校際比賽，團體花式跳繩表演</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-danger"><i class="fas fa-calendar me-1"></i>技巧展示 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="技巧展示" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">高級花式跳繩技巧展示</p>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <h6 class="text-secondary"><i class="fas fa-calendar me-1"></i>訓練日常 (2024年12月)</h6>
                                    <div class="video-container mb-3">
                                        <iframe class="w-100" style="border-radius: 8px; height: 200px;" 
                                                src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                                                title="訓練日常" frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                        </iframe>
                                    </div>
                                    <p class="small text-muted">日常訓練片段，展現堅持精神</p>
                                </div>
                            </div>
                            <div class="progress-info mt-3">
                                <h6 class="text-info"><i class="fas fa-chart-line me-1"></i>進步統計</h6>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-primary">102%</div>
                                            <small class="text-muted">進步幅度</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-success">43次</div>
                                            <small class="text-muted">成績提升</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <div class="h4 text-warning">9個月</div>
                                            <small class="text-muted">訓練時間</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 其他學生的簡化版本 -->
                        <div class="tab-pane fade" id="student4" role="tabpanel">
                            <div class="text-center py-4">
                                <i class="fas fa-user-graduate text-muted" style="font-size: 3rem;"></i>
                                <h6 class="text-muted mt-2">葉芷汝的進步歷程</h6>
                                <p class="text-muted">詳細內容請查看完整繩刊</p>
                            </div>
                        </div>
                        
                        <div class="tab-pane fade" id="student5" role="tabpanel">
                            <div class="text-center py-4">
                                <i class="fas fa-user-graduate text-muted" style="font-size: 3rem;"></i>
                                <h6 class="text-muted mt-2">吳諾暉的進步歷程</h6>
                                <p class="text-muted">詳細內容請查看完整繩刊</p>
                            </div>
                        </div>
                        
                        <!-- 更多學生可以按照相同模式添加 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 全局變量
        let currentRole = null;
        let isTeacherLoggedIn = false;
        
        // 初始化數據
        let scores = JSON.parse(localStorage.getItem('scores') || '[]');
        
        // 設置今天的日期為默認值
        document.getElementById('scoreDate').valueAsDate = new Date();
        
        // 頁面載入時顯示角色選擇
        window.addEventListener('load', function() {
            showRoleSelection();
        });

        function renderScores() {
            let tableBody = document.querySelector('#scoresTable tbody');
            let actionHeader = document.getElementById('actionHeader');
            let html = '';
            
            // 根據教師登入狀態顯示/隱藏操作欄位
            if (isTeacherLoggedIn) {
                actionHeader.style.display = 'table-cell';
            } else {
                actionHeader.style.display = 'none';
            }
            
            scores.forEach(function(item, index) {
                html += `
                    <tr>
                        <td>${item.name}</td>
                        <td><span class="score-badge">${item.total}</span></td>
                        <td>${item.date}</td>
                        <td style="${isTeacherLoggedIn ? 'display: table-cell;' : 'display: none;'}">
                            <button class="btn btn-sm btn-info me-1" onclick="editScore(${index})" title="編輯成績">
                                <i class="fas fa-edit"></i>✏️
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="removeScore(${index})" title="移除成績">
                                <i class="fas fa-trash"></i>🗑️
                            </button>
                        </td>
                    </tr>
                `;
            });
            tableBody.innerHTML = html;
        }

        function renderRankings() {
            // 以學生姓名分組，僅取每位學生最新日期的成績
            let latestScores = {};
            scores.forEach(function(item) {
                if (
                    !latestScores[item.name] ||
                    new Date(item.date) > new Date(latestScores[item.name].date)
                ) {
                    latestScores[item.name] = item;
                }
            });

            // 轉為陣列並依總分排序
            let rankings = Object.values(latestScores).sort((a, b) => b.total - a.total);

            let tableBody = document.querySelector('#rankingsTable tbody');
            let html = '';
            rankings.forEach(function(item, index) {
                let rankClass = '';
                if (index === 0) rankClass = 'rank-1';
                else if (index === 1) rankClass = 'rank-2';
                else if (index === 2) rankClass = 'rank-3';

                html += `
                    <tr>
                        <td>
                            <span class="rank-badge ${rankClass}">${index + 1}</span>
                            ${index < 3 ? '<i class="fas fa-medal ms-1"></i>' : ''}
                        </td>
                        <td>${item.name}</td>
                        <td>${item.total}</td>
                        <td>${item.date}</td>
                    </tr>
                `;
            });
            tableBody.innerHTML = html;
        }

        // 顯示角色選擇模態框
        function showRoleSelection() {
            // 若localStorage已有角色，直接設置狀態並返回
            const savedRole = localStorage.getItem('userRole');
            if (savedRole) {
                currentRole = savedRole;
                if (savedRole === 'teacher') {
                    isTeacherLoggedIn = localStorage.getItem('isTeacherLoggedIn') === 'true';
                }
                updateRoleStatus && updateRoleStatus();
                return;
            }
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-school me-2"></i>歡迎來到基督教中國佈道會聖道學校跳繩平台
                            </h5>
                        </div>
                        <div class="modal-body text-center">
                            <p class="mb-4 text-muted">請選擇你的身份</p>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <button class="btn btn-role-teacher btn-lg w-100" onclick="selectRole('teacher')">
                                        <i class="fas fa-chalkboard-teacher me-2"></i>老師
                                    </button>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <button class="btn btn-role-parent btn-lg w-100" onclick="selectRole('parent')">
                                        <i class="fas fa-users me-2"></i>家長
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // 選擇角色
        function selectRole(role) {
            currentRole = role;
            localStorage.setItem('userRole', role);
            if (role === 'teacher') {
                showTeacherLogin();
            } else {
                // 家長直接進入，關閉模態框
                closeModal();
                showAlert('歡迎家長！您可以使用影片上傳功能。', 'success');
            }
        }
        
        // 顯示老師登入模態框
        function showTeacherLogin() {
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-lock me-2"></i>老師登入
                            </h5>
                        </div>
                        <div class="modal-body">
                            <form id="teacherLoginForm">
                                <div class="mb-3">
                                    <label for="teacherPassword" class="form-label">密碼</label>
                                    <input type="password" class="form-control" id="teacherPassword" placeholder="請輸入老師密碼" required>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-custom">
                                        <i class="fas fa-sign-in-alt me-2"></i>登入
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="showRoleSelection()">
                                        <i class="fas fa-arrow-left me-2"></i>返回選擇角色
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // 添加表單提交事件
            document.getElementById('teacherLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const password = document.getElementById('teacherPassword').value;
                
                if (password === '1111') {
                    isTeacherLoggedIn = true;
                    localStorage.setItem('isTeacherLoggedIn', 'true');
                    localStorage.setItem('userRole', 'teacher');
                    closeModal();
                    showAlert('老師登入成功！您可以使用所有管理功能。', 'success');
                    // 重新渲染成績表格以顯示操作按鈕
                    renderScores();
                } else {
                    showAlert('密碼錯誤，請重新輸入！', 'danger');
                    document.getElementById('teacherPassword').value = '';
                }
            });
        }
        
        // 關閉模態框
        function closeModal() {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (modal.parentNode) {
                    modal.parentNode.removeChild(modal);
                }
            });
        }
        
        // 跳轉到學生專區
        function goToStudentZone() {
            window.location.href = 'student-zone.html';
        }
        
        // 登出功能
        function logout() {
            // 重置所有狀態
            currentRole = null;
            isTeacherLoggedIn = false;
            localStorage.removeItem('userRole');
            localStorage.removeItem('isTeacherLoggedIn');
            // 顯示登出成功訊息
            showAlert('已成功登出！', 'success');
            // 重新顯示角色選擇
            setTimeout(() => {
                showRoleSelection();
            }, 1000);
        }
        
        // 顯示警告訊息
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show alert-custom`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.parentNode.removeChild(alertDiv);
                }
            }, 3000);
        }

        // 編輯成績
        function editScore(index) {
            if (!isTeacherLoggedIn) {
                showAlert('只有已登入的老師可以編輯成績！', 'warning');
                return;
            }
            
            const score = scores[index];
            if (!score) {
                showAlert('找不到要編輯的成績！', 'danger');
                return;
            }
            
            // 創建編輯模態框
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-edit me-2"></i>編輯成績
                            </h5>
                            <button type="button" class="btn-close" onclick="closeModal()"></button>
                        </div>
                        <div class="modal-body">
                            <form id="editScoreForm">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="editStudentName" class="form-label">學生姓名</label>
                                            <input type="text" class="form-control" id="editStudentName" value="${score.name}" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="editScoreDate" class="form-label">日期</label>
                                            <input type="date" class="form-control" id="editScoreDate" value="${score.date}" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreFront" class="form-label">30秒前跳</label>
                                            <input type="number" class="form-control" id="editScoreFront" value="${score.front}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreJack" class="form-label">30秒開合跳</label>
                                            <input type="number" class="form-control" id="editScoreJack" value="${score.jack}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreSki" class="form-label">30秒滑雪跳</label>
                                            <input type="number" class="form-control" id="editScoreSki" value="${score.ski}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreBike" class="form-label">30秒單車步</label>
                                            <input type="number" class="form-control" id="editScoreBike" value="${score.bike}" min="0" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-custom">
                                        <i class="fas fa-save me-2"></i>儲存修改
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="closeModal()">
                                        <i class="fas fa-times me-2"></i>取消
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // 添加表單提交事件
            document.getElementById('editScoreForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('editStudentName').value;
                const front = parseInt(document.getElementById('editScoreFront').value);
                const jack = parseInt(document.getElementById('editScoreJack').value);
                const ski = parseInt(document.getElementById('editScoreSki').value);
                const bike = parseInt(document.getElementById('editScoreBike').value);
                const date = document.getElementById('editScoreDate').value;
                
                if (name && !isNaN(front) && !isNaN(jack) && !isNaN(ski) && !isNaN(bike) && date) {
                    const total = front + jack + ski + bike;
                    
                    // 更新成績
                    scores[index] = { name, front, jack, ski, bike, total, date };
                    localStorage.setItem('scores', JSON.stringify(scores));
                    
                    closeModal();
                    renderScores();
                    renderRankings();
                    
                    showAlert('成績已成功更新！', 'success');
                } else {
                    showAlert('請輸入完整的成績資料！', 'danger');
                }
            });
        }

        // 移除成績
        function removeScore(index) {
            if (!isTeacherLoggedIn) {
                showAlert('只有已登入的老師可以移除成績！', 'warning');
                return;
            }
            
            const score = scores[index];
            if (!score) {
                showAlert('找不到要移除的成績！', 'danger');
                return;
            }
            
            // 顯示確認對話框
            if (confirm(`確定要移除 ${score.name} 的成績嗎？\n\n學生：${score.name}\n總分：${score.total}\n日期：${score.date}\n\n此操作無法復原！`)) {
                // 移除成績
                scores.splice(index, 1);
                localStorage.setItem('scores', JSON.stringify(scores));
                
                renderScores();
                renderRankings();
                
                showAlert('成績已成功移除！', 'success');
            }
        }

        // 初始渲染
        renderScores();
        renderRankings();

        // 表單處理
        document.getElementById('scoreForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // 檢查老師登入狀態
            if (!isTeacherLoggedIn) {
                showAlert('只有已登入的老師可以提交成績！', 'warning');
                return;
            }
            
            let name = document.getElementById('studentName').value;
            let front = parseInt(document.getElementById('scoreFront').value);
            let jack = parseInt(document.getElementById('scoreJack').value);
            let ski = parseInt(document.getElementById('scoreSki').value);
            let bike = parseInt(document.getElementById('scoreBike').value);
            let date = document.getElementById('scoreDate').value;
            
            if (name && !isNaN(front) && !isNaN(jack) && !isNaN(ski) && !isNaN(bike) && date) {
                let total = front + jack + ski + bike;
                
                // 只覆蓋同名同日的成績，不同日就新增
                const existingIndex = scores.findIndex(score => score.name === name && score.date === date);
                if (existingIndex !== -1) {
                    // 覆蓋現有成績
                    scores[existingIndex] = { name, front, jack, ski, bike, total, date };
                    showAlert(`已更新 ${name} ${date} 的成績！`, 'success');
                } else {
                    // 添加新成績
                    scores.push({ name, front, jack, ski, bike, total, date });
                    showAlert('成績已成功提交！', 'success');
                }
                
                localStorage.setItem('scores', JSON.stringify(scores));
                renderScores();
                renderRankings();
                
                // 清空表單
                document.getElementById('studentName').value = '';
                document.getElementById('scoreFront').value = '';
                document.getElementById('scoreJack').value = '';
                document.getElementById('scoreSki').value = '';
                document.getElementById('scoreBike').value = '';
                document.getElementById('scoreDate').valueAsDate = new Date();
            } else {
                showAlert('請輸入完整的姓名、四項分數和日期', 'danger');
            }
        });

        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // 檢查角色權限
            if (currentRole !== 'parent' && !isTeacherLoggedIn) {
                showAlert('只有家長或已登入的老師可以上傳影片！', 'warning');
                return;
            }
            
            let studentName = document.getElementById('studentNameUpload').value;
            let videoFile = document.getElementById('videoFile').files[0];
            let description = document.getElementById('videoDescription').value;
            
            if (studentName && videoFile) {
                // 檢查檔案大小（限制為100MB）
                if (videoFile.size > 100 * 1024 * 1024) {
                    showAlert('影片檔案太大，請選擇小於100MB的檔案', 'danger');
                    return;
                }
                
                // 檢查檔案類型
                const allowedTypes = ['video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv'];
                if (!allowedTypes.includes(videoFile.type)) {
                    showAlert('請選擇支援的影片格式（MP4、AVI、MOV、WMV、FLV）', 'danger');
                    return;
                }
                
                // 顯示上傳進度
                showUploadProgress();
                
                // 模擬影片上傳過程
                uploadVideo(studentName, videoFile, description);
                
            } else {
                showAlert('請選擇學生姓名和影片文件', 'danger');
            }
        });
        
        // 影片上傳功能
        function uploadVideo(studentName, videoFile, description) {
            // 創建 FormData 對象
            const formData = new FormData();
            formData.append('studentName', studentName);
            formData.append('videoFile', videoFile);
            formData.append('description', description);
            formData.append('uploadTime', new Date().toISOString());
            
            // 模擬上傳過程（實際應用中這裡會發送到伺服器）
            setTimeout(() => {
                // 儲存到 localStorage 作為臨時儲存
                const uploads = JSON.parse(localStorage.getItem('videoUploads') || '[]');
                const newUpload = {
                    id: Date.now(),
                    studentName: studentName,
                    fileName: videoFile.name,
                    fileSize: videoFile.size,
                    description: description,
                    uploadTime: new Date().toISOString(),
                    status: 'pending', // pending, approved, rejected
                    teacherComment: ''
                };
                
                uploads.push(newUpload);
                localStorage.setItem('videoUploads', JSON.stringify(uploads));
                
                // 隱藏進度條
                hideUploadProgress();
                
                // 顯示成功訊息
                showAlert(`影片上傳成功！學生：${studentName}，檔案：${videoFile.name}。我們會盡快審核您的影片。`, 'success');
                
                // 清空表單
                document.getElementById('studentNameUpload').value = '';
                document.getElementById('videoFile').value = '';
                document.getElementById('videoDescription').value = '';
                
                // 更新上傳列表（如果頁面有顯示的話）
                updateUploadList();
                
            }, 2000); // 模擬2秒上傳時間
        }
        
        // 顯示上傳進度
        function showUploadProgress() {
            const progressDiv = document.createElement('div');
            progressDiv.id = 'uploadProgress';
            progressDiv.className = 'alert alert-info text-center position-fixed';
            progressDiv.style.cssText = 'top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; min-width: 300px;';
            progressDiv.innerHTML = `
                <i class="fas fa-upload me-2"></i>正在上傳影片...
                <div class="progress mt-2">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%"></div>
                </div>
            `;
            document.body.appendChild(progressDiv);
            
            // 模擬進度條動畫
            const progressBar = progressDiv.querySelector('.progress-bar');
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                progressBar.style.width = progress + '%';
            }, 200);
            
            // 儲存 interval ID 以便停止
            progressDiv.dataset.interval = interval;
        }
        
        // 隱藏上傳進度
        function hideUploadProgress() {
            const progressDiv = document.getElementById('uploadProgress');
            if (progressDiv) {
                clearInterval(parseInt(progressDiv.dataset.interval));
                progressDiv.remove();
            }
        }
        
        // 更新上傳列表
        function updateUploadList() {
            const uploads = JSON.parse(localStorage.getItem('videoUploads') || '[]');
            const uploadListContainer = document.getElementById('uploadList');
            
            if (uploadListContainer) {
                let html = '';
                uploads.forEach(upload => {
                    const statusClass = upload.status === 'approved' ? 'success' : 
                                     upload.status === 'rejected' ? 'danger' : 'warning';
                    const statusText = upload.status === 'approved' ? '已通過' : 
                                     upload.status === 'rejected' ? '已拒絕' : '待審核';
                    
                    html += `
                        <div class="card mb-3">
                            <div class="card-body">
                                <h6 class="card-title">${upload.studentName}</h6>
                                <p class="card-text">${upload.description || '無描述'}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">${upload.fileName}</small>
                                    <span class="badge bg-${statusClass}">${statusText}</span>
                                </div>
                                <small class="text-muted">上傳時間：${new Date(upload.uploadTime).toLocaleString()}</small>
                                ${upload.teacherComment ? `<div class="mt-2"><small class="text-info">老師評語：${upload.teacherComment}</small></div>` : ''}
                            </div>
                        </div>
                    `;
                });
                
                uploadListContainer.innerHTML = html || '<p class="text-muted">暫無上傳記錄</p>';
            }
        }

        // 添加角色狀態顯示
        function updateRoleStatus() {
            let statusText = '';
            if (isTeacherLoggedIn) {
                statusText = '老師 (已登入)';
            } else if (currentRole === 'parent') {
                statusText = '家長';
            } else {
                statusText = '未選擇角色';
            }
            
            // 可以在頁面上顯示當前角色狀態
            console.log('當前角色：', statusText);
        }

        // 平滑滾動
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // 初始化角色狀態
        updateRoleStatus();
        
        // PWA 相關功能
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker 註冊成功:', registration);
                        
                        // 檢查更新
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showPWAUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('Service Worker 註冊失敗:', error);
                    });
            });
        }
        
        // 顯示PWA更新通知
        function showPWAUpdateNotification() {
            const updateDiv = document.createElement('div');
            updateDiv.className = 'alert alert-info alert-dismissible fade show position-fixed';
            updateDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            updateDiv.innerHTML = `
                <i class="fas fa-download me-2"></i>APP有新版本可用！
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(updateDiv);
            
            setTimeout(() => {
                if (updateDiv.parentNode) {
                    updateDiv.remove();
                }
            }, 10000);
        }
        
        // PWA 安裝提示
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showPWAInstallPrompt();
        });
        
        function showPWAInstallPrompt() {
            const installDiv = document.createElement('div');
            installDiv.className = 'alert alert-success alert-dismissible fade show position-fixed';
            installDiv.style.cssText = 'top: 20px; left: 20px; z-index: 9999; min-width: 300px;';
            installDiv.innerHTML = `
                <i class="fas fa-mobile-alt me-2"></i>將此網站安裝為APP
                <button type="button" class="btn btn-sm btn-primary ms-2" onclick="installPWA()">安裝</button>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(installDiv);
            
            setTimeout(() => {
                if (installDiv.parentNode) {
                    installDiv.remove();
                }
            }, 15000);
        }
        
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('用戶接受安裝PWA');
                    } else {
                        console.log('用戶拒絕安裝PWA');
                    }
                    deferredPrompt = null;
                });
            }
        }
        
        // 檢查是否已安裝為PWA
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            console.log('APP已安裝');
            // 可以添加已安裝APP的特殊功能
        }
        
        // 打開隊員蛻變模態框
        function openTransformationModal() {
            const modal = new bootstrap.Modal(document.getElementById('transformationModal'));
            modal.show();
        }
    </script>
</body>
</html> 