<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PWA ç›¸é—œè¨­å®š -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="è·³ç¹©å¹³å°">
    <meta name="description" content="åŸºç£æ•™ä¸­åœ‹ä½ˆé“æœƒè–é“å­¸æ ¡è·³ç¹©å¹³å° - å­¸ç”Ÿè·³ç¹©æˆç¸¾ç®¡ç†ç³»çµ±">
    <meta name="keywords" content="è·³ç¹©,å­¸æ ¡,æˆç¸¾ç®¡ç†,å­¸ç”Ÿ">
    
    <!-- PWA åœ–æ¨™ -->
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzI1NjNlYiIvPgo8cGF0aCBkPSJNMTYgNkMxMi42OSA2IDEwIDguNjkgMTAgMTJjMCAyLjA5IDEuMDYgMy45NCAyLjY3IDUuMDdMMTYgMjZsMy4zMy04LjkzQzIwLjk0IDE1Ljk0IDIyIDE0LjA5IDIyIDEyYzAtMy4zMS0yLjY5LTYtNi02eiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+">
    <link rel="icon" type="image/png" sizes="16x16" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iMyIgZmlsbD0iIzI1NjNlYiIvPgo8cGF0aCBkPSJNOCA0QzYuMzQgNCA1IDUuMzQgNSA3YzAgMS4wNSAwLjUzIDEuOTcgMS4zMyAyLjUzTDggMTNsMS42Ny00LjQ3QzEwLjQ3IDguOTcgMTEgOC4wNSAxMSA3YzAtMS42Ni0xLjM0LTMtMy0zeiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iMzYiIGZpbGw9IiMyNTYzZWIiLz4KPHBhdGggZD0iTTkwIDQ1Qzc0LjUgNDUgNjIgNTcuNSA2MiA3M2MwIDEwLjUgNS4zIDIwIDExLjUgMjUuNUw5MCAxMzVsMTYuNS0zNi41QzExMi41IDkzIDExOCA4My41IDExOCA3M2MwLTE1LjUtMTIuNS0yOC0yOC0yOHoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <title>å­¸æ ¡è·³ç¹©å¹³å°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            color: #333;
        }
        
        /* é ‚éƒ¨å°èˆªæ¬„ */
        .top-nav {
            background-color: #1e3a8a;
            color: white;
            padding: 8px 0;
            font-size: 14px;
        }
        
        .top-nav a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .top-nav a:hover {
            color: #f97316;
        }
        
        /* ä¸»è¦å°èˆªæ¬„ */
        .navbar {
            background-color: #2563eb !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 15px 0;
        }
        
        .navbar-brand {
            color: white !important;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .navbar-nav .nav-link {
            color: white !important;
            font-weight: 500;
            margin: 0 10px;
            padding: 8px 15px !important;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover {
            background-color: #f97316;
            color: white !important;
        }
        
        /* ä¸»è¦å…§å®¹å€åŸŸ */
        .main-content {
            background-color: white;
            margin: 0;
            padding: 0;
        }
        
        /* è‹±é›„å€åŸŸ */
        .hero-section {
            background: linear-gradient(135deg, #2563eb 0%, #1e3a8a 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
            position: relative;
        }
        
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        }
        
        .hero-section .container {
            position: relative;
            z-index: 1;
        }
        
        .hero-section h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero-section p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        /* æ ¡è¨“å€åŸŸ */
        .motto-section {
            background-color: #fef3c7;
            padding: 30px 0;
            text-align: center;
            border-bottom: 3px solid #f97316;
        }
        
        .motto-section h2 {
            color: #1e3a8a;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .motto-section p {
            color: #92400e;
            font-size: 1.1rem;
            margin: 0;
        }
        
        /* åŠŸèƒ½å¡ç‰‡ */
        .feature-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            border-color: #f97316;
        }
        
        .feature-icon {
            font-size: 3rem;
            color: #2563eb;
            margin-bottom: 20px;
        }
        
        /* å…§å®¹å€åŸŸ */
        .content-section {
            padding: 40px 0;
            background-color: white;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f97316;
        }
        
        .section-header h2 {
            color: #1e3a8a;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .section-header p {
            color: #64748b;
            font-size: 1.1rem;
        }
        
        /* è¡¨æ ¼å®¹å™¨ */
        .table-container {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .table-container h3 {
            color: #1e3a8a;
            border-bottom: 2px solid #f97316;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* è¡¨å–®å®¹å™¨ */
        .form-container {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .form-container h3 {
            color: #1e3a8a;
            border-bottom: 2px solid #f97316;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* æŒ‰éˆ•æ¨£å¼ */
        .btn-custom {
            background-color: #2563eb;
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-custom:hover {
            background-color: #1d4ed8;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }
        
        .btn-secondary {
            background-color: #f97316;
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background-color: #ea580c;
            color: white;
        }
        
        /* å¾½ç« æ¨£å¼ */
        .score-badge {
            background-color: #2563eb;
        }
        
        /* æ“ä½œæŒ‰éˆ•æ¨£å¼ */
        .btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
            border-radius: 0.25rem;
        }
        
        .btn-info {
            background-color: #0dcaf0;
            border-color: #0dcaf0;
            color: white;
        }
        
        .btn-info:hover {
            background-color: #31d2f2;
            border-color: #25cff2;
            color: white;
        }
        
        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #bb2d3b;
            border-color: #b02a37;
            color: white;
        }
        
        .score-badge {
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .rank-badge {
            background-color: #f97316;
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .rank-1 { background-color: #fbbf24; }
        .rank-2 { background-color: #94a3b8; }
        .rank-3 { background-color: #f59e0b; }
        
        /* è­¦å‘Šè¨Šæ¯ */
        .alert-custom {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            min-width: 300px;
            border-radius: 5px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        /* æ¨¡æ…‹æ¡†æ¨£å¼ */
        .modal-content {
            border-radius: 8px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background-color: #2563eb;
            color: white;
            border-radius: 8px 8px 0 0;
        }
        
        .modal-title {
            color: white;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2rem;
            }
            
            .navbar-nav .nav-link {
                margin: 5px 0;
            }
            
            .feature-card {
                margin: 10px 0;
            }
        }
        
        /* è¡¨æ ¼æ¨£å¼ */
        .table {
            border-collapse: collapse;
            width: 100%;
        }
        
        .table th {
            background-color: #2563eb;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        /* è¡¨å–®æ¨£å¼ */
        .form-control {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            transition: border-color 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #f97316;
            box-shadow: 0 0 0 0.2rem rgba(249, 115, 22, 0.25);
        }
        
        .form-label {
            font-weight: 500;
            color: #1e3a8a;
            margin-bottom: 8px;
        }
        .zone-card {
            min-height: 260px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.04);
            border-radius: 10px;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .zone-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #2563eb;
        }
        @media (max-width: 767px) {
            .zone-card { margin-bottom: 24px; }
        }
        .btn-role-teacher {
          background: #22a06b !important;
          color: #fff !important;
          border: none;
        }
        .btn-role-teacher:hover {
          background: #178a57 !important;
          color: #fff !important;
        }
        .btn-role-parent {
          background: #38bdf8 !important;
          color: #fff !important;
          border: none;
        }
        .btn-role-parent:hover {
          background: #0ea5e9 !important;
          color: #fff !important;
        }
/* ====== å…¨ç«™ç¾åŒ– ====== */
body {
  background: #f4f8fb;
  font-family: 'Microsoft JhengHei', Arial, sans-serif;
}
.bg-deco {
  position: fixed; left: 0; top: 0; width: 100vw; height: 100vh;
  pointer-events: none; z-index: 0;
}
.hero-section {
  background: linear-gradient(135deg,#2563eb 0%,#1e3a8a 100%);
  color: #fff;
  padding: 64px 0 0 0;
  text-align: center;
  position: relative;
  box-shadow: 0 4px 16px rgba(30,58,138,0.08);
}
.hero-section .container { position: relative; z-index: 1; }
.hero-section .main-title {
  font-size: 2.7rem;
  font-weight: bold;
  letter-spacing: 2px;
  text-shadow: 2px 2px 10px rgba(30,58,138,0.18);
}
.hero-section .sub-title {
  font-size: 1.18rem;
  color: #fbbf24;
  margin-top: 10px;
  letter-spacing: 2px;
}
.zone-card {
  min-height: 260px;
  box-shadow: 0 4px 18px rgba(37,99,235,0.10);
  border-radius: 18px;
  border: none;
  transition: all 0.25s;
  background: #fff;
  position: relative;
}
.zone-card:hover {
  transform: translateY(-8px) scale(1.03);
  box-shadow: 0 10px 32px rgba(37,99,235,0.18);
  border-color: #f97316;
}
.zone-icon {
  width: 70px; height: 70px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 18px;
  font-size: 2.5rem;
}
.zone-card:nth-child(1) .zone-icon { background: #e3edfa; color: #2563eb; }
.zone-card:nth-child(2) .zone-icon { background: #e3f7ea; color: #22a06b; }
.zone-card:nth-child(3) .zone-icon { background: #fff7e6; color: #f97316; }
.zone-card .fw-bold { font-size: 1.22rem; letter-spacing: 2px; color: #374151; }
.zone-desc { font-size: 1.05rem; line-height: 1.7; }
.section-header {
  text-align: center;
  margin-bottom: 40px;
  padding-bottom: 16px;
  border-bottom: none;
  position: relative;
}
.section-header h2 {
  color: #1e3a8a;
  font-weight: bold;
  margin-bottom: 10px;
  font-size: 1.5rem;
  display: inline-block;
  position: relative;
}
.section-header h2:after {
  content: '';
  display: block;
  width: 60px;
  height: 4px;
  background: linear-gradient(90deg,#fbbf24 0%,#2563eb 100%);
  border-radius: 2px;
  margin: 10px auto 0 auto;
}
.table-container {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 2px 12px rgba(30,58,138,0.08);
  padding: 25px;
  margin: 20px 0;
}
.table {
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 1px 8px rgba(30,58,138,0.06);
}
.table th {
  background-color: #2563eb;
  color: white;
  font-size: 1.08rem;
}
.table td {
  font-size: 1.05rem;
}
.form-container {
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 2px 10px rgba(30,58,138,0.07);
  padding: 25px;
  margin: 20px 0;
}
.form-label { color: #1e3a8a; font-weight: 500; }
.btn-custom {
  background: linear-gradient(90deg,#2563eb 0%,#1e3a8a 100%);
  color: #fff;
  font-weight: 600;
  border-radius: 30px;
  padding: 10px 32px;
  letter-spacing: 1px;
  border: none;
  transition: background 0.2s;
}
.btn-custom:hover {
  background: linear-gradient(90deg,#1e3a8a 0%,#2563eb 100%);
}
.attitude-section {
  background: linear-gradient(120deg,#fbbf24 0%,#6ad0d6 100%);
  padding: 40px 0 16px 0;
  border-radius: 22px;
  margin-bottom: 40px;
  box-shadow: 0 2px 16px rgba(251,191,36,0.08);
}
.attitude-grid { display: flex; flex-direction: column; align-items: center; gap: 32px; }
.attitude-row { display: flex; gap: 32px; }
.attitude-card { position: relative; overflow: hidden; width: 200px; height: 200px; border-radius: 16px; box-shadow:0 2px 12px rgba(0,0,0,0.08); background:#fff; }
.attitude-img { width: 100%; height: 100%; object-fit: cover; border-radius: 16px; filter: brightness(0.92); }
/* è¿”å›é ‚éƒ¨æŒ‰éˆ• */
#backToTopBtn {
  position: fixed;
  right: 32px;
  bottom: 32px;
  z-index: 999;
  background: linear-gradient(90deg,#2563eb 0%,#fbbf24 100%);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 54px; height: 54px;
  font-size: 1.6rem;
  box-shadow: 0 2px 10px rgba(30,58,138,0.13);
  display: none;
  align-items: center; justify-content: center;
  transition: background 0.2s;
}
#backToTopBtn:hover { background: linear-gradient(90deg,#fbbf24 0%,#2563eb 100%); color: #fff; }
@media (max-width: 900px) {
  .attitude-card, .attitude-img { width: 120px; height: 120px; }
  .attitude-row { gap: 12px !important; }
  .attitude-grid { gap: 12px !important; }
  .zone-card { min-height: 180px; }
}
</style>
<script>
// è¿”å›é ‚éƒ¨æŒ‰éˆ•
window.addEventListener('scroll', function() {
  const btn = document.getElementById('backToTopBtn');
  if (window.scrollY > 300) btn.style.display = 'flex';
  else btn.style.display = 'none';
});
function backToTop() {
  window.scrollTo({top:0,behavior:'smooth'});
}
</script>
<button id="backToTopBtn" onclick="backToTop()" title="è¿”å›é ‚éƒ¨"><i class="fas fa-arrow-up"></i></button>
</head>
<body>
    <!-- é ‚éƒ¨å°èˆªæ¬„ -->
    <div class="top-nav">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <a href="#"><i class="fas fa-phone me-1"></i>é›»è©±ï¼š(852) 2750 2549</a>
                    <a href="#"><i class="fas fa-envelope me-1"></i>é›»éƒµï¼šinfo@holyword.edu.hk</a>
                </div>
                <div class="col-md-6 text-end">
                    <a href="#"><i class="fas fa-map-marker-alt me-1"></i>åœ°å€ï¼šä¹é¾æ²¹å¡˜é¯‰é­šé–€é“60è™Ÿ</a>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸»è¦å°èˆªæ¬„ -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-school me-2"></i>åŸºç£æ•™ä¸­åœ‹ä½ˆé“æœƒè–é“å­¸æ ¡
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">
                            <i class="fas fa-home me-1"></i>é¦–é 
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#scores">
                            <i class="fas fa-chart-bar me-1"></i>æˆç¸¾
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#rankings">
                            <i class="fas fa-trophy me-1"></i>æ’å
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="holyjumpvibe.html">
                            <i class="fas fa-book-open me-1"></i>ã€ŠHolyJumpVibeã€‹ç¹©åˆŠ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="rope-classroom.html">
                            <i class="fas fa-chalkboard me-1"></i>ã€ç¹©ã€ç›®æ•™å®¤
                        </a>
                    </li>
                    <!-- ç§»é™¤ä¸Šå‚³å½±ç‰‡é€£çµ -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-1"></i>ç™»å‡º
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <section id="home" class="hero-section" style="background:linear-gradient(135deg,#2563eb 0%,#1e3a8a 100%);padding:48px 0 0 0;">
            <div class="container">
                <div class="text-center mb-4">
                    <span style="font-size:2.5rem;color:#fff;vertical-align:middle;"><img src="https://i.imgur.com/7hxUzog.png" alt="æ ¡å¾½" style="height:48px;width:48px;vertical-align:middle;"></span>
                    <span style="font-size:2.2rem;font-weight:700;color:#f3f4f6;letter-spacing:2px;vertical-align:middle;margin-left:10px;">åŸºç£æ•™ä¸­åœ‹ä½ˆé“æœƒè–é“å­¸æ ¡</span>
                </div>
                <div class="text-center mb-2">
                    <span style="font-size:1.5rem;color:#f3f4f6;font-weight:500;">HolyStrideè·³ç¹©é‹å‹•å¹³å°</span>
                </div>
                <div class="text-center mb-3">
                    <span style="color:#e0e7ef;font-size:1.05rem;">åŸ¹é¤Šå­¸ç”Ÿå¥åº·é«”é­„ï¼å»ºç«‹åœ˜éšŠç²¾ç¥ï¼è¿½æ±‚å“è¶Šè¡¨ç¾</span>
                </div>
                <div class="d-flex justify-content-center mb-5">
                    <div style="background:#f97316;padding:10px 32px;border-radius:20px;display:inline-block;">
                        <span style="color:#fff;font-size:1.08rem;font-weight:500;letter-spacing:1px;">
                            ä»¥æ„›ä½œç‚ºæ ¹åŸºï¼ä»¥è–ç¶“çœŸç†ï¼ä»¥æˆå°±å“è¶Š
                        </span>
                    </div>
                </div>
                <style>
                .attitude-card { position: relative; overflow: hidden; width: 200px; height: 200px; border-radius: 12px; box-shadow:0 2px 12px rgba(0,0,0,0.08); background:#222; }
                .attitude-img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; filter: brightness(0.85); }
                @media (max-width: 900px) {
                  .attitude-card { width: 140px; height: 140px; }
                  .attitude-row { gap: 12px !important; }
                  .attitude-grid { gap: 12px !important; }
                }
                </style>
                <div class="row justify-content-center align-items-center mt-3">
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='students-list.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#e3edfa;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-user" style="font-size:2.5rem;color:#2563eb;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">å­¸ç”Ÿå°ˆå€</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                æŸ¥çœ‹å€‹äººè·³ç¹©æˆç¸¾å’Œå­¸æ ¡æ’å<br>è¿½è¹¤é€²æ­¥æƒ…æ³
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='students-list.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#e3f7ea;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-users" style="font-size:2.5rem;color:#22a06b;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">å®¶é•·å°ˆå€</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                ç‚ºå­©å­ä¸Šå‚³è·³ç¹©è¡¨æ¼”å½±ç‰‡ï¼Œ<br>åƒèˆ‡å­©å­çš„æˆé•·æ­·ç¨‹
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='rainbow-certificate-detail.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#e0f2fe;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-chalkboard-teacher" style="font-size:2.5rem;color:#0ea5e9;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">å½©è™¹ç« åˆ¥è¨ˆåŠƒè‡ªå­¸å°ˆå€</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                ä¸Šå‚³å½©è™¹ç« åˆ¥è¨ˆåŠƒå½±ç‰‡ï¼Œç²å¾—æ•™å¸«å›é¥‹<br>ä¿ƒé€²è‡ªä¸»å­¸ç¿’èˆ‡äº’å‹•
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="zone-card text-center p-4 bg-white rounded shadow" style="cursor: pointer;" onclick="window.location.href='holyjumpvibe.html'">
                            <div class="zone-icon mx-auto mb-2" style="background:#fef3c7;width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;">
                                <i class="fas fa-book-open" style="font-size:2.5rem;color:#f59e0b;"></i>
                            </div>
                            <div class="fw-bold mb-2" style="font-size:1.2rem;letter-spacing:2px;color:#374151;">ã€ŠHolyJumpVibeã€‹ç¹©åˆŠ</div>
                            <div class="zone-desc text-secondary" style="font-size:1.05rem;line-height:1.7;">
                                è·³ç¹©éšŠå®˜æ–¹åˆŠç‰©ï¼Œåˆ†äº«æŠ€å·§èˆ‡æ•…äº‹<br>æ¿€ç™¼è·³ç¹©ç†±æƒ…èˆ‡åœ˜éšŠç²¾ç¥
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section id="scores" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-chart-bar me-2"></i>æˆç¸¾ç´€éŒ„</h2>
                    <p class="text-muted">æŸ¥çœ‹å’Œè¼¸å…¥å­¸ç”Ÿçš„è·³ç¹©æˆç¸¾</p>
                </div>
            
            <div class="table-container">
                <h3 class="mb-4">ç•¶å‰æˆç¸¾</h3>
                <table id="scoresTable" class="table table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>å­¸ç”Ÿå§“å</th>
                            <th>ç¸½åˆ†</th>
                            <th>æ—¥æœŸ</th>
                            <th id="actionHeader" style="display: none;">æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

            <div class="form-container">
                <h3 class="mb-4"><i class="fas fa-plus me-2"></i>è¼¸å…¥æ–°æˆç¸¾</h3>
                <form id="scoreForm">
                    <div class="row">
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="studentName" class="form-label">å­¸ç”Ÿå§“å</label>
                                <input type="text" class="form-control" id="studentName" placeholder="è¼¸å…¥å­¸ç”Ÿå§“å" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreFront" class="form-label">30ç§’å‰è·³</label>
                                <input type="number" class="form-control" id="scoreFront" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreJack" class="form-label">30ç§’é–‹åˆè·³</label>
                                <input type="number" class="form-control" id="scoreJack" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreSki" class="form-label">30ç§’æ»‘é›ªè·³</label>
                                <input type="number" class="form-control" id="scoreSki" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreBike" class="form-label">30ç§’å–®è»Šæ­¥</label>
                                <input type="number" class="form-control" id="scoreBike" min="0" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="mb-3">
                                <label for="scoreDate" class="form-label">æ—¥æœŸ</label>
                                <input type="date" class="form-control" id="scoreDate" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-custom">
                        <i class="fas fa-save me-2"></i>æäº¤æˆç¸¾
                    </button>
                </form>
            </div>
        </section>

        <section id="rankings" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-trophy me-2"></i>å­¸æ ¡æ’å</h2>
                    <p class="text-muted">æŸ¥çœ‹å­¸ç”Ÿåœ¨å­¸æ ¡ä¸­çš„è·³ç¹©æ’å</p>
                </div>
            
            <div class="table-container">
                <table id="rankingsTable" class="table table-hover">
                    <thead class="table-primary">
                        <tr>
                            <th>æ’å</th>
                            <th>å­¸ç”Ÿå§“å</th>
                            <th>ç¸½åˆ†</th>
                            <th>æ—¥æœŸ</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </section>
        
        <div class="attitude-section mb-5" style="background:#6ad0d6;padding:32px 0 8px 0;border-radius:18px;">
          <h2 class="text-center" style="color:#fff;font-weight:700;letter-spacing:4px;font-size:2rem;margin-bottom:28px;">è·³ç¹©ä¸­å¸¶å‡ºå…­ç¨®å­¸ç¿’æ…‹åº¦</h2>
          <div class="attitude-grid" style="display:flex;flex-direction:column;align-items:center;gap:24px;">
            <div class="attitude-row" style="display:flex;gap:24px;">
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/f7GY28u.png" class="attitude-img" alt="å …æŒ">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/uebhHcm.png" class="attitude-img" alt="å°ˆæ³¨">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/AJCwrek.png" class="attitude-img" alt="å°Šé‡">
              </div>
            </div>
            <div class="attitude-row" style="display:flex;gap:24px;">
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/IYYiSGb.png" class="attitude-img" alt="è‡ªä¿¡">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/id6FW6C.png" class="attitude-img" alt="è‡ªæˆ‘ç´€å¾‹">
              </div>
              <div class="attitude-card position-relative">
                <img src="https://i.imgur.com/Fns6P0m.png" class="attitude-img" alt="é ˜å°æ‰èƒ½">
              </div>
            </div>
          </div>
        </div>
        
        <!-- é è…³ -->
        <footer class="bg-dark text-light py-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h5>åŸºç£æ•™ä¸­åœ‹ä½ˆé“æœƒè–é“å­¸æ ¡</h5>
                        <p class="mb-0">è·³ç¹©æˆç¸¾èˆ‡æ•™å­¸å¹³å°</p>
                        <p class="mb-0">ä¿ƒé€²å­¸ç”Ÿå¥åº·ç™¼å±•ï¼Œæå‡è·³ç¹©æŠ€èƒ½</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // å…¨å±€è®Šé‡
        let currentRole = null;
        let isTeacherLoggedIn = false;
        
        // åˆå§‹åŒ–æ•¸æ“š
        let scores = JSON.parse(localStorage.getItem('scores') || '[]');
        
        // è¨­ç½®ä»Šå¤©çš„æ—¥æœŸç‚ºé»˜èªå€¼
        document.getElementById('scoreDate').valueAsDate = new Date();
        
        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºè§’è‰²é¸æ“‡
        window.addEventListener('load', function() {
            showRoleSelection();
        });

        function renderScores() {
            let tableBody = document.querySelector('#scoresTable tbody');
            let actionHeader = document.getElementById('actionHeader');
            let html = '';
            
            // æ ¹æ“šæ•™å¸«ç™»å…¥ç‹€æ…‹é¡¯ç¤º/éš±è—æ“ä½œæ¬„ä½
            if (isTeacherLoggedIn) {
                actionHeader.style.display = 'table-cell';
            } else {
                actionHeader.style.display = 'none';
            }
            
            scores.forEach(function(item, index) {
                html += `
                    <tr>
                        <td>${item.name}</td>
                        <td><span class="score-badge">${item.total}</span></td>
                        <td>${item.date}</td>
                        <td style="${isTeacherLoggedIn ? 'display: table-cell;' : 'display: none;'}">
                            <button class="btn btn-sm btn-info me-1" onclick="editScore(${index})" title="ç·¨è¼¯æˆç¸¾">
                                <i class="fas fa-edit"></i>âœï¸
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="removeScore(${index})" title="ç§»é™¤æˆç¸¾">
                                <i class="fas fa-trash"></i>ğŸ—‘ï¸
                            </button>
                        </td>
                    </tr>
                `;
            });
            tableBody.innerHTML = html;
        }

        function renderRankings() {
            // ä»¥å­¸ç”Ÿå§“ååˆ†çµ„ï¼Œåƒ…å–æ¯ä½å­¸ç”Ÿæœ€æ–°æ—¥æœŸçš„æˆç¸¾
            let latestScores = {};
            scores.forEach(function(item) {
                if (
                    !latestScores[item.name] ||
                    new Date(item.date) > new Date(latestScores[item.name].date)
                ) {
                    latestScores[item.name] = item;
                }
            });

            // è½‰ç‚ºé™£åˆ—ä¸¦ä¾ç¸½åˆ†æ’åº
            let rankings = Object.values(latestScores).sort((a, b) => b.total - a.total);

            let tableBody = document.querySelector('#rankingsTable tbody');
            let html = '';
            rankings.forEach(function(item, index) {
                let rankClass = '';
                if (index === 0) rankClass = 'rank-1';
                else if (index === 1) rankClass = 'rank-2';
                else if (index === 2) rankClass = 'rank-3';

                html += `
                    <tr>
                        <td>
                            <span class="rank-badge ${rankClass}">${index + 1}</span>
                            ${index < 3 ? '<i class="fas fa-medal ms-1"></i>' : ''}
                        </td>
                        <td>${item.name}</td>
                        <td>${item.total}</td>
                        <td>${item.date}</td>
                    </tr>
                `;
            });
            tableBody.innerHTML = html;
        }

        // é¡¯ç¤ºè§’è‰²é¸æ“‡æ¨¡æ…‹æ¡†
        function showRoleSelection() {
            // è‹¥localStorageå·²æœ‰è§’è‰²ï¼Œç›´æ¥è¨­ç½®ç‹€æ…‹ä¸¦è¿”å›
            const savedRole = localStorage.getItem('userRole');
            if (savedRole) {
                currentRole = savedRole;
                if (savedRole === 'teacher') {
                    isTeacherLoggedIn = localStorage.getItem('isTeacherLoggedIn') === 'true';
                }
                updateRoleStatus && updateRoleStatus();
                return;
            }
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-school me-2"></i>æ­¡è¿ä¾†åˆ°åŸºç£æ•™ä¸­åœ‹ä½ˆé“æœƒè–é“å­¸æ ¡è·³ç¹©å¹³å°
                            </h5>
                        </div>
                        <div class="modal-body text-center">
                            <p class="mb-4 text-muted">è«‹é¸æ“‡ä½ çš„èº«ä»½</p>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <button class="btn btn-role-teacher btn-lg w-100" onclick="selectRole('teacher')">
                                        <i class="fas fa-chalkboard-teacher me-2"></i>è€å¸«
                                    </button>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <button class="btn btn-role-parent btn-lg w-100" onclick="selectRole('parent')">
                                        <i class="fas fa-users me-2"></i>å®¶é•·
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // é¸æ“‡è§’è‰²
        function selectRole(role) {
            currentRole = role;
            localStorage.setItem('userRole', role);
            if (role === 'teacher') {
                showTeacherLogin();
            } else {
                // å®¶é•·ç›´æ¥é€²å…¥ï¼Œé—œé–‰æ¨¡æ…‹æ¡†
                closeModal();
                showAlert('æ­¡è¿å®¶é•·ï¼æ‚¨å¯ä»¥ä½¿ç”¨å½±ç‰‡ä¸Šå‚³åŠŸèƒ½ã€‚', 'success');
            }
        }
        
        // é¡¯ç¤ºè€å¸«ç™»å…¥æ¨¡æ…‹æ¡†
        function showTeacherLogin() {
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-lock me-2"></i>è€å¸«ç™»å…¥
                            </h5>
                        </div>
                        <div class="modal-body">
                            <form id="teacherLoginForm">
                                <div class="mb-3">
                                    <label for="teacherPassword" class="form-label">å¯†ç¢¼</label>
                                    <input type="password" class="form-control" id="teacherPassword" placeholder="è«‹è¼¸å…¥è€å¸«å¯†ç¢¼" required>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-custom">
                                        <i class="fas fa-sign-in-alt me-2"></i>ç™»å…¥
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="showRoleSelection()">
                                        <i class="fas fa-arrow-left me-2"></i>è¿”å›é¸æ“‡è§’è‰²
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // æ·»åŠ è¡¨å–®æäº¤äº‹ä»¶
            document.getElementById('teacherLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const password = document.getElementById('teacherPassword').value;
                
                if (password === '1111') {
                    isTeacherLoggedIn = true;
                    localStorage.setItem('isTeacherLoggedIn', 'true');
                    localStorage.setItem('userRole', 'teacher');
                    closeModal();
                    showAlert('è€å¸«ç™»å…¥æˆåŠŸï¼æ‚¨å¯ä»¥ä½¿ç”¨æ‰€æœ‰ç®¡ç†åŠŸèƒ½ã€‚', 'success');
                    // é‡æ–°æ¸²æŸ“æˆç¸¾è¡¨æ ¼ä»¥é¡¯ç¤ºæ“ä½œæŒ‰éˆ•
                    renderScores();
                } else {
                    showAlert('å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥ï¼', 'danger');
                    document.getElementById('teacherPassword').value = '';
                }
            });
        }
        
        // é—œé–‰æ¨¡æ…‹æ¡†
        function closeModal() {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (modal.parentNode) {
                    modal.parentNode.removeChild(modal);
                }
            });
        }
        
        // è·³è½‰åˆ°å­¸ç”Ÿå°ˆå€
        function goToStudentZone() {
            window.location.href = 'student-zone.html';
        }
        
        // ç™»å‡ºåŠŸèƒ½
        function logout() {
            // é‡ç½®æ‰€æœ‰ç‹€æ…‹
            currentRole = null;
            isTeacherLoggedIn = false;
            localStorage.removeItem('userRole');
            localStorage.removeItem('isTeacherLoggedIn');
            // é¡¯ç¤ºç™»å‡ºæˆåŠŸè¨Šæ¯
            showAlert('å·²æˆåŠŸç™»å‡ºï¼', 'success');
            // é‡æ–°é¡¯ç¤ºè§’è‰²é¸æ“‡
            setTimeout(() => {
                showRoleSelection();
            }, 1000);
        }
        
        // é¡¯ç¤ºè­¦å‘Šè¨Šæ¯
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show alert-custom`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.parentNode.removeChild(alertDiv);
                }
            }, 3000);
        }

        // ç·¨è¼¯æˆç¸¾
        function editScore(index) {
            if (!isTeacherLoggedIn) {
                showAlert('åªæœ‰å·²ç™»å…¥çš„è€å¸«å¯ä»¥ç·¨è¼¯æˆç¸¾ï¼', 'warning');
                return;
            }
            
            const score = scores[index];
            if (!score) {
                showAlert('æ‰¾ä¸åˆ°è¦ç·¨è¼¯çš„æˆç¸¾ï¼', 'danger');
                return;
            }
            
            // å‰µå»ºç·¨è¼¯æ¨¡æ…‹æ¡†
            const modal = document.createElement('div');
            modal.className = 'modal fade show';
            modal.style.display = 'block';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.zIndex = '9999';
            
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="fas fa-edit me-2"></i>ç·¨è¼¯æˆç¸¾
                            </h5>
                            <button type="button" class="btn-close" onclick="closeModal()"></button>
                        </div>
                        <div class="modal-body">
                            <form id="editScoreForm">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="editStudentName" class="form-label">å­¸ç”Ÿå§“å</label>
                                            <input type="text" class="form-control" id="editStudentName" value="${score.name}" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="editScoreDate" class="form-label">æ—¥æœŸ</label>
                                            <input type="date" class="form-control" id="editScoreDate" value="${score.date}" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreFront" class="form-label">30ç§’å‰è·³</label>
                                            <input type="number" class="form-control" id="editScoreFront" value="${score.front}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreJack" class="form-label">30ç§’é–‹åˆè·³</label>
                                            <input type="number" class="form-control" id="editScoreJack" value="${score.jack}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreSki" class="form-label">30ç§’æ»‘é›ªè·³</label>
                                            <input type="number" class="form-control" id="editScoreSki" value="${score.ski}" min="0" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="mb-3">
                                            <label for="editScoreBike" class="form-label">30ç§’å–®è»Šæ­¥</label>
                                            <input type="number" class="form-control" id="editScoreBike" value="${score.bike}" min="0" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-custom">
                                        <i class="fas fa-save me-2"></i>å„²å­˜ä¿®æ”¹
                                    </button>
                                    <button type="button" class="btn btn-secondary" onclick="closeModal()">
                                        <i class="fas fa-times me-2"></i>å–æ¶ˆ
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // æ·»åŠ è¡¨å–®æäº¤äº‹ä»¶
            document.getElementById('editScoreForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('editStudentName').value;
                const front = parseInt(document.getElementById('editScoreFront').value);
                const jack = parseInt(document.getElementById('editScoreJack').value);
                const ski = parseInt(document.getElementById('editScoreSki').value);
                const bike = parseInt(document.getElementById('editScoreBike').value);
                const date = document.getElementById('editScoreDate').value;
                
                if (name && !isNaN(front) && !isNaN(jack) && !isNaN(ski) && !isNaN(bike) && date) {
                    const total = front + jack + ski + bike;
                    
                    // æ›´æ–°æˆç¸¾
                    scores[index] = { name, front, jack, ski, bike, total, date };
                    localStorage.setItem('scores', JSON.stringify(scores));
                    
                    closeModal();
                    renderScores();
                    renderRankings();
                    
                    showAlert('æˆç¸¾å·²æˆåŠŸæ›´æ–°ï¼', 'success');
                } else {
                    showAlert('è«‹è¼¸å…¥å®Œæ•´çš„æˆç¸¾è³‡æ–™ï¼', 'danger');
                }
            });
        }

        // ç§»é™¤æˆç¸¾
        function removeScore(index) {
            if (!isTeacherLoggedIn) {
                showAlert('åªæœ‰å·²ç™»å…¥çš„è€å¸«å¯ä»¥ç§»é™¤æˆç¸¾ï¼', 'warning');
                return;
            }
            
            const score = scores[index];
            if (!score) {
                showAlert('æ‰¾ä¸åˆ°è¦ç§»é™¤çš„æˆç¸¾ï¼', 'danger');
                return;
            }
            
            // é¡¯ç¤ºç¢ºèªå°è©±æ¡†
            if (confirm(`ç¢ºå®šè¦ç§»é™¤ ${score.name} çš„æˆç¸¾å—ï¼Ÿ\n\nå­¸ç”Ÿï¼š${score.name}\nç¸½åˆ†ï¼š${score.total}\næ—¥æœŸï¼š${score.date}\n\næ­¤æ“ä½œç„¡æ³•å¾©åŸï¼`)) {
                // ç§»é™¤æˆç¸¾
                scores.splice(index, 1);
                localStorage.setItem('scores', JSON.stringify(scores));
                
                renderScores();
                renderRankings();
                
                showAlert('æˆç¸¾å·²æˆåŠŸç§»é™¤ï¼', 'success');
            }
        }

        // åˆå§‹æ¸²æŸ“
        renderScores();
        renderRankings();

        // è¡¨å–®è™•ç†
        document.getElementById('scoreForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // æª¢æŸ¥è€å¸«ç™»å…¥ç‹€æ…‹
            if (!isTeacherLoggedIn) {
                showAlert('åªæœ‰å·²ç™»å…¥çš„è€å¸«å¯ä»¥æäº¤æˆç¸¾ï¼', 'warning');
                return;
            }
            
            let name = document.getElementById('studentName').value;
            let front = parseInt(document.getElementById('scoreFront').value);
            let jack = parseInt(document.getElementById('scoreJack').value);
            let ski = parseInt(document.getElementById('scoreSki').value);
            let bike = parseInt(document.getElementById('scoreBike').value);
            let date = document.getElementById('scoreDate').value;
            
            if (name && !isNaN(front) && !isNaN(jack) && !isNaN(ski) && !isNaN(bike) && date) {
                let total = front + jack + ski + bike;
                
                // åªè¦†è“‹åŒååŒæ—¥çš„æˆç¸¾ï¼Œä¸åŒæ—¥å°±æ–°å¢
                const existingIndex = scores.findIndex(score => score.name === name && score.date === date);
                if (existingIndex !== -1) {
                    // è¦†è“‹ç¾æœ‰æˆç¸¾
                    scores[existingIndex] = { name, front, jack, ski, bike, total, date };
                    showAlert(`å·²æ›´æ–° ${name} ${date} çš„æˆç¸¾ï¼`, 'success');
                } else {
                    // æ·»åŠ æ–°æˆç¸¾
                    scores.push({ name, front, jack, ski, bike, total, date });
                    showAlert('æˆç¸¾å·²æˆåŠŸæäº¤ï¼', 'success');
                }
                
                localStorage.setItem('scores', JSON.stringify(scores));
                renderScores();
                renderRankings();
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('studentName').value = '';
                document.getElementById('scoreFront').value = '';
                document.getElementById('scoreJack').value = '';
                document.getElementById('scoreSki').value = '';
                document.getElementById('scoreBike').value = '';
                document.getElementById('scoreDate').valueAsDate = new Date();
            } else {
                showAlert('è«‹è¼¸å…¥å®Œæ•´çš„å§“åã€å››é …åˆ†æ•¸å’Œæ—¥æœŸ', 'danger');
            }
        });

        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // æª¢æŸ¥è§’è‰²æ¬Šé™
            if (currentRole !== 'parent' && !isTeacherLoggedIn) {
                showAlert('åªæœ‰å®¶é•·æˆ–å·²ç™»å…¥çš„è€å¸«å¯ä»¥ä¸Šå‚³å½±ç‰‡ï¼', 'warning');
                return;
            }
            
            let studentName = document.getElementById('studentNameUpload').value;
            let videoFile = document.getElementById('videoFile').files[0];
            let description = document.getElementById('videoDescription').value;
            
            if (studentName && videoFile) {
                // æª¢æŸ¥æª”æ¡ˆå¤§å°ï¼ˆé™åˆ¶ç‚º100MBï¼‰
                if (videoFile.size > 100 * 1024 * 1024) {
                    showAlert('å½±ç‰‡æª”æ¡ˆå¤ªå¤§ï¼Œè«‹é¸æ“‡å°æ–¼100MBçš„æª”æ¡ˆ', 'danger');
                    return;
                }
                
                // æª¢æŸ¥æª”æ¡ˆé¡å‹
                const allowedTypes = ['video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv'];
                if (!allowedTypes.includes(videoFile.type)) {
                    showAlert('è«‹é¸æ“‡æ”¯æ´çš„å½±ç‰‡æ ¼å¼ï¼ˆMP4ã€AVIã€MOVã€WMVã€FLVï¼‰', 'danger');
                    return;
                }
                
                // é¡¯ç¤ºä¸Šå‚³é€²åº¦
                showUploadProgress();
                
                // æ¨¡æ“¬å½±ç‰‡ä¸Šå‚³éç¨‹
                uploadVideo(studentName, videoFile, description);
                
            } else {
                showAlert('è«‹é¸æ“‡å­¸ç”Ÿå§“åå’Œå½±ç‰‡æ–‡ä»¶', 'danger');
            }
        });
        
        // å½±ç‰‡ä¸Šå‚³åŠŸèƒ½
        function uploadVideo(studentName, videoFile, description) {
            // å‰µå»º FormData å°è±¡
            const formData = new FormData();
            formData.append('studentName', studentName);
            formData.append('videoFile', videoFile);
            formData.append('description', description);
            formData.append('uploadTime', new Date().toISOString());
            
            // æ¨¡æ“¬ä¸Šå‚³éç¨‹ï¼ˆå¯¦éš›æ‡‰ç”¨ä¸­é€™è£¡æœƒç™¼é€åˆ°ä¼ºæœå™¨ï¼‰
            setTimeout(() => {
                // å„²å­˜åˆ° localStorage ä½œç‚ºè‡¨æ™‚å„²å­˜
                const uploads = JSON.parse(localStorage.getItem('videoUploads') || '[]');
                const newUpload = {
                    id: Date.now(),
                    studentName: studentName,
                    fileName: videoFile.name,
                    fileSize: videoFile.size,
                    description: description,
                    uploadTime: new Date().toISOString(),
                    status: 'pending', // pending, approved, rejected
                    teacherComment: ''
                };
                
                uploads.push(newUpload);
                localStorage.setItem('videoUploads', JSON.stringify(uploads));
                
                // éš±è—é€²åº¦æ¢
                hideUploadProgress();
                
                // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
                showAlert(`å½±ç‰‡ä¸Šå‚³æˆåŠŸï¼å­¸ç”Ÿï¼š${studentName}ï¼Œæª”æ¡ˆï¼š${videoFile.name}ã€‚æˆ‘å€‘æœƒç›¡å¿«å¯©æ ¸æ‚¨çš„å½±ç‰‡ã€‚`, 'success');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('studentNameUpload').value = '';
                document.getElementById('videoFile').value = '';
                document.getElementById('videoDescription').value = '';
                
                // æ›´æ–°ä¸Šå‚³åˆ—è¡¨ï¼ˆå¦‚æœé é¢æœ‰é¡¯ç¤ºçš„è©±ï¼‰
                updateUploadList();
                
            }, 2000); // æ¨¡æ“¬2ç§’ä¸Šå‚³æ™‚é–“
        }
        
        // é¡¯ç¤ºä¸Šå‚³é€²åº¦
        function showUploadProgress() {
            const progressDiv = document.createElement('div');
            progressDiv.id = 'uploadProgress';
            progressDiv.className = 'alert alert-info text-center position-fixed';
            progressDiv.style.cssText = 'top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; min-width: 300px;';
            progressDiv.innerHTML = `
                <i class="fas fa-upload me-2"></i>æ­£åœ¨ä¸Šå‚³å½±ç‰‡...
                <div class="progress mt-2">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%"></div>
                </div>
            `;
            document.body.appendChild(progressDiv);
            
            // æ¨¡æ“¬é€²åº¦æ¢å‹•ç•«
            const progressBar = progressDiv.querySelector('.progress-bar');
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                progressBar.style.width = progress + '%';
            }, 200);
            
            // å„²å­˜ interval ID ä»¥ä¾¿åœæ­¢
            progressDiv.dataset.interval = interval;
        }
        
        // éš±è—ä¸Šå‚³é€²åº¦
        function hideUploadProgress() {
            const progressDiv = document.getElementById('uploadProgress');
            if (progressDiv) {
                clearInterval(parseInt(progressDiv.dataset.interval));
                progressDiv.remove();
            }
        }
        
        // æ›´æ–°ä¸Šå‚³åˆ—è¡¨
        function updateUploadList() {
            const uploads = JSON.parse(localStorage.getItem('videoUploads') || '[]');
            const uploadListContainer = document.getElementById('uploadList');
            
            if (uploadListContainer) {
                let html = '';
                uploads.forEach(upload => {
                    const statusClass = upload.status === 'approved' ? 'success' : 
                                     upload.status === 'rejected' ? 'danger' : 'warning';
                    const statusText = upload.status === 'approved' ? 'å·²é€šé' : 
                                     upload.status === 'rejected' ? 'å·²æ‹’çµ•' : 'å¾…å¯©æ ¸';
                    
                    html += `
                        <div class="card mb-3">
                            <div class="card-body">
                                <h6 class="card-title">${upload.studentName}</h6>
                                <p class="card-text">${upload.description || 'ç„¡æè¿°'}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">${upload.fileName}</small>
                                    <span class="badge bg-${statusClass}">${statusText}</span>
                                </div>
                                <small class="text-muted">ä¸Šå‚³æ™‚é–“ï¼š${new Date(upload.uploadTime).toLocaleString()}</small>
                                ${upload.teacherComment ? `<div class="mt-2"><small class="text-info">è€å¸«è©•èªï¼š${upload.teacherComment}</small></div>` : ''}
                            </div>
                        </div>
                    `;
                });
                
                uploadListContainer.innerHTML = html || '<p class="text-muted">æš«ç„¡ä¸Šå‚³è¨˜éŒ„</p>';
            }
        }

        // æ·»åŠ è§’è‰²ç‹€æ…‹é¡¯ç¤º
        function updateRoleStatus() {
            let statusText = '';
            if (isTeacherLoggedIn) {
                statusText = 'è€å¸« (å·²ç™»å…¥)';
            } else if (currentRole === 'parent') {
                statusText = 'å®¶é•·';
            } else {
                statusText = 'æœªé¸æ“‡è§’è‰²';
            }
            
            // å¯ä»¥åœ¨é é¢ä¸Šé¡¯ç¤ºç•¶å‰è§’è‰²ç‹€æ…‹
            console.log('ç•¶å‰è§’è‰²ï¼š', statusText);
        }

        // å¹³æ»‘æ»¾å‹•
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // åˆå§‹åŒ–è§’è‰²ç‹€æ…‹
        updateRoleStatus();
        
        // PWA ç›¸é—œåŠŸèƒ½
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker è¨»å†ŠæˆåŠŸ:', registration);
                        
                        // æª¢æŸ¥æ›´æ–°
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showPWAUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('Service Worker è¨»å†Šå¤±æ•—:', error);
                    });
            });
        }
        
        // é¡¯ç¤ºPWAæ›´æ–°é€šçŸ¥
        function showPWAUpdateNotification() {
            const updateDiv = document.createElement('div');
            updateDiv.className = 'alert alert-info alert-dismissible fade show position-fixed';
            updateDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            updateDiv.innerHTML = `
                <i class="fas fa-download me-2"></i>APPæœ‰æ–°ç‰ˆæœ¬å¯ç”¨ï¼
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(updateDiv);
            
            setTimeout(() => {
                if (updateDiv.parentNode) {
                    updateDiv.remove();
                }
            }, 10000);
        }
        
        // PWA å®‰è£æç¤º
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            showPWAInstallPrompt();
        });
        
        function showPWAInstallPrompt() {
            const installDiv = document.createElement('div');
            installDiv.className = 'alert alert-success alert-dismissible fade show position-fixed';
            installDiv.style.cssText = 'top: 20px; left: 20px; z-index: 9999; min-width: 300px;';
            installDiv.innerHTML = `
                <i class="fas fa-mobile-alt me-2"></i>å°‡æ­¤ç¶²ç«™å®‰è£ç‚ºAPP
                <button type="button" class="btn btn-sm btn-primary ms-2" onclick="installPWA()">å®‰è£</button>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            document.body.appendChild(installDiv);
            
            setTimeout(() => {
                if (installDiv.parentNode) {
                    installDiv.remove();
                }
            }, 15000);
        }
        
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('ç”¨æˆ¶æ¥å—å®‰è£PWA');
                    } else {
                        console.log('ç”¨æˆ¶æ‹’çµ•å®‰è£PWA');
                    }
                    deferredPrompt = null;
                });
            }
        }
        
        // æª¢æŸ¥æ˜¯å¦å·²å®‰è£ç‚ºPWA
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            console.log('APPå·²å®‰è£');
            // å¯ä»¥æ·»åŠ å·²å®‰è£APPçš„ç‰¹æ®ŠåŠŸèƒ½
        }
    </script>
</body>
</html> 