# 🚀 跳繩影片上傳系統 - 快速啟動指南

## 📋 系統概述

這是一個完整的影片上傳系統，讓家長可以上傳跳繩影片，老師可以審核和管理。

### ✨ 功能特色
- ✅ 家長上傳影片到伺服器
- ✅ 老師審核和管理影片
- ✅ 影片狀態追蹤（待審核/已通過/已拒絕）
- ✅ 老師評語系統
- ✅ 影片搜尋和篩選
- ✅ 響應式設計

## 🛠️ 安裝步驟

### 1. 安裝 Node.js 套件

```bash
# 安裝依賴套件
npm install

# 或使用 yarn
yarn install
```

### 2. 設定環境變數

複製 `env-example.txt` 為 `.env` 並填入您的設定：

```bash
# AWS S3 設定
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=ap-southeast-1
S3_BUCKET_NAME=your-bucket-name-here

# MongoDB 設定
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/jump-rope-app

# 伺服器設定
PORT=3000
NODE_ENV=development
```

### 3. 啟動後端伺服器

```bash
# 開發模式（自動重啟）
npm run dev

# 或生產模式
npm start
```

伺服器將在 `http://localhost:3000` 啟動

### 4. 測試系統

1. **健康檢查**：訪問 `http://localhost:3000/api/health`
2. **家長上傳**：使用 `student-zone.html`
3. **老師管理**：使用 `teacher-dashboard.html`

## 📁 檔案結構

```
├── server.js              # 後端伺服器
├── package.json           # Node.js 專案設定
├── env-example.txt        # 環境變數範例
├── student-zone.html      # 家長上傳介面
├── teacher-dashboard.html # 老師管理介面
├── video-upload-solution.html # 完整解決方案說明
├── deployment-guide.html  # 部署指南
└── 快速啟動指南.md        # 本檔案
```

## 🔧 API 端點

| 端點 | 方法 | 描述 |
|------|------|------|
| `/api/health` | GET | 健康檢查 |
| `/api/upload-video` | POST | 上傳影片 |
| `/api/videos` | GET | 取得所有影片 |
| `/api/videos/student/:id` | GET | 取得特定學生影片 |
| `/api/videos/:id/review` | POST | 審核影片 |
| `/api/videos/:id` | DELETE | 刪除影片 |

## 🌐 雲端服務設定

### AWS S3 設定

1. 註冊 AWS 帳號
2. 建立 S3 儲存桶
3. 建立 IAM 用戶和存取金鑰
4. 設定 CORS 政策：

```json
[
    {
        "AllowedHeaders": ["*"],
        "AllowedMethods": ["GET", "POST", "PUT", "DELETE"],
        "AllowedOrigins": ["*"],
        "ExposeHeaders": []
    }
]
```

### MongoDB Atlas 設定

1. 註冊 MongoDB Atlas 帳號
2. 建立資料庫叢集
3. 建立資料庫用戶
4. 取得連接字串

## 🚀 部署到雲端

### 使用 Heroku（推薦新手）

```bash
# 安裝 Heroku CLI
npm install -g heroku

# 登入 Heroku
heroku login

# 建立應用
heroku create your-app-name

# 設定環境變數
heroku config:set AWS_ACCESS_KEY_ID=your_key
heroku config:set AWS_SECRET_ACCESS_KEY=your_secret
heroku config:set S3_BUCKET_NAME=your_bucket
heroku config:set MONGODB_URI=your_mongodb_uri

# 部署
git add .
git commit -m "Initial deployment"
git push heroku main
```

### 使用 AWS EC2

1. 啟動 EC2 實例
2. 安裝 Node.js 和 PM2
3. 上傳程式碼
4. 設定環境變數
5. 啟動應用程式

## 🔍 故障排除

### 常見問題

**Q: 伺服器無法啟動**
A: 檢查 Node.js 版本（需要 14.0.0 以上）和套件安裝

**Q: 無法連接資料庫**
A: 檢查 MongoDB 連接字串和網路設定

**Q: 影片上傳失敗**
A: 檢查 AWS S3 設定和權限

**Q: 前端無法連接後端**
A: 確認 CORS 設定和 API 端點

### 日誌檢查

```bash
# 查看伺服器日誌
npm run dev

# 檢查健康狀態
curl http://localhost:3000/api/health
```

## 📞 支援

如有問題，請檢查：
1. 環境變數設定
2. 網路連線
3. 雲端服務權限
4. 瀏覽器控制台錯誤

## 🎯 下一步

1. 設定域名和 SSL
2. 啟用監控和備份
3. 優化效能
4. 新增更多功能

---

**祝您使用愉快！** 🎉 